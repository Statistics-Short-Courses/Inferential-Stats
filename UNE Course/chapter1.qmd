---
title: "Chapter 1"
---

## Variables

Before we jump into the world of statistical testing, let’s take a moment to refresh our understanding of what a variable is, the different types of variables, and how we can describe them using numerical and graphical methods.

**So what is a variable?**

The Australian Bureau of Statistics defines a variable to be "any characteristic, number, or quantity that can be measured or counted."

If you’ve ever tried dieting, you might have recorded your weight on your phone over time. Or maybe you’ve tracked how long your morning commute takes so you know when to leave to arrive on time. In both cases, you are measuring something that changes, and these are examples of variables.

## Types of Variables

There are two main types of variables:

-   **Numerical**

-   **Categorical**

A **numerical variable** represents values to describe a measurable quantity. A numerical variable can be either **discrete** or **continuous**.

**Discrete numerical variables** take on distinct whole values, and are countable. For example, if we were to look at the at the number of cars in a parking lot, the number of birds in a tree, or the number of times "3" is rolled in a series of die rolls, these are exact values that can be counted and are thus discrete.

**Continuous numerical variables** can take on any value within a range of real numbers. In other words, they can be measured to any level of precision. For example, age exists on a continuous scale because, in theory, it can be measured infinitely precisely. Someone could be 10.25, 10.257, or even 10.2576326362 years old. In everyday life, we usually round age to the nearest year, but that does not change the fact that the underlying variable is continuous. Other common examples of continuous numerical variables include weight, height, and time. Can you explain why each of these variables is numerical and continuous?

A **categorical variable**, on the other hand, represents categories or labels that describe a quality or characteristic. Categorical variables can be either **nominal** or **ordinal**.

A **nominal categorical variable** includes observations with no particular order. For example, if you asked ten coworkers for their favorite movie and recorded their answers under a "movies" variable, it would be nominal because there is no inherent sequence or ranking among the movie titles.

In an **ordinal categorical variable,** there is an inherent logical order to the observations. For example, if we collected age groups such as "18–24", "25–38", "39–55", "56–70", and "70+", we’re now working with labels that have a built-in order where "18–24" is younger than "25–38", and so on.

Another example might be asking people whether they like ice cream, with options like "strongly agree", "agree", "neutral", "disagree", and "strongly disagree". In this case, the order of the options has meaning, even if the distance between them isn’t equal.

Take a moment to check your understanding with the exercises below.

## Exercise Checkpoint 1

```{r, echo = FALSE}
library(webexercises)
```

1.  **Describe the following variables:**

    a\. Eye colour is a `r mcq(c("discrete numerical variable", "continuous numerical variable", "ordinal categorical variable", answer = "nominal categorical variable"))`

    b\. Temperature is a `r mcq(c("discrete numerical variable", "ordinal categorical variable", "nominal categorical variable", answer = "continuous numerical variable"))`

    c\. The number of heads in a series of coin flips is a `r mcq(c( "continuous numerical variable", "ordinal categorical variable", "nominal categorical variable", answer = "discrete numerical variable"))`

    d\. Education level is a `r mcq(c("discrete numerical variable", "continuous numerical variable", "nominal categorical variable", answer = "ordinal categorical variable"))`

    e\. Postal Code is a `r mcq(c("discrete numerical variable", "continuous numerical variable", "ordinal categorical variable", answer = "nominal categorical variable"))`

    f\. Income salary is a `r mcq(c("discrete numerical variable", "ordinal categorical variable", "nominal categorical variable", answer = "continuous numerical variable"))`

    g\. Number of calls per day is a `r mcq(c("discrete numerical variable", "continuous numerical variable", "ordinal categorical variable", "nominal categorical variable", answer = "discrete numerical variable"))`

## Visually Representing Data

Now that we’ve covered the main types of variables, we can start thinking about how to visually represent data.

First, we will need to load in some data into R. We will be working with the `palmerpenguins` package. The `palmerpenguins` package is a dataset collected and made available by [Dr. Kristen Gorman](https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php) and the [Palmer Station, Antarctica LTER](https://pallter.marine.rutgers.edu/), a member of the [Long Term Ecological Research Network](https://lternet.edu/).

If you have never used this package, you will need to install the package.

```{r, eval=FALSE}
install.packages("palmerpenguins")
```

Once installed, you will need to load the package into R.

```{r, warning = FALSE, echo=TRUE, message=FALSE}
library(palmerpenguins)
```

Now that we have the package installed, we can take a look at the variables within the dataset using `str`.

```{r}
str(penguins)

```

We can see that there are eight variables. We have three categorical variables: `species`, `island`, and `sex`. These are stored as factors, with the levels representing the number of distinct labels, or groups, in the variable. For example, `sex` has male and female, so it has two levels.

You can see that there are four variables stored as numerical variables: `bill_length_mm`, `bill_depth_mm`, `flipper_length_mm`, and `year`. If your instinct is that `year` doesn't quite fit right as a discrete or continuous variable, you would be right! It would be better to store `year` as a categorical variable. To convert year, you can simply use the following code:

```{r}
penguins$year <- as.factor(penguins$year)
```

Now if we run `str` again, we can see that `year` is now correctly stored as a categorical variable with 3 levels.

```{r}
str(penguins)
```

If you are interested in seeing the unique groupings or labels in a categorical variable, you can use the `unique()` function.

```{r}
unique(penguins$year)
```

Thus, we can see that the data collected was over the years 2007, 2008, and 2009.

We can see that `str` also shows us that the `penguins` dataset is stored as a 344 x 8 tibble (a type of data frame in R). This tells us that there are 344 rows (observations) and 8 columns (variables).

We can check this the `dim` function.

```{r}
dim(penguins)
```

If you wish to have a closer look at inspecting the penguins dataset, you can use the `View()` function to pull up the dataset in another tab on R Studio.

```{r, eval=FALSE}
View(penguins)
```

Now that we've inspected the dataset, we can start thinking of ways we can visually represent and understand the data.

We can describe data using numerical summaries and graphs. Numerical summaries are statistical measures that capture key aspects of a dataset. The way we choose to present these summaries and the graphs that accompany them depends on the type of variable we are working with.

Let’s start with numerical summaries.

For **numerical variables**, whether continuous or discrete, we can include:

-   mean

-   standard deviation

-   median

-   minimum

-   maximum

-   Interquartile Range (IQR)

**IMPORTANT NOTE:** When reporting descriptive statistics, always provide appropriate context. If you report a mean, include the standard deviation, and vice versa. If you report a median, include the interquartile range (IQR), and vice versa. Likewise, if you report a maximum value, always include the minimum to give full perspective.

Some helpful R functions for generating summary statistics:

```{r, warning = FALSE, echo = FALSE}
library(gt)

data <- data.frame(
  "Summary Statistic" = c(
    "Mean",
    "Standard Deviation",
    "Median",
    "Minimum",
    "Maximum",
    "Inter-quartile Range",
    "First quartile",
    "Third quartile",
    "Five point summary"
  ),
  "Command" = c(
    "mean(...)",
    "sd(...)",
    "median(...)",
    "min(...)",
    "max(...)",
    "IQR(...)",
    "quantile(..., 0.25)",
    "quantile(..., 0.75)",
    "summary(...)"
  ),
  check.names = FALSE
)

gt(data)


```

Let's take a look at `body_mass_g`, which describes the body mass of a penguin stored in grams.

You also may have noticed that there are missing values in the dataset marked as `NA`. We can confirm this

```{r}
any(is.na(penguins))
```

This tells us that there are missing observations in the dataset. Let's check how many are missing.

```{r}
sum(is.na(penguins))
```

We have 19 missing observations. This is going to be problematic if we want to generate numerical summaries or perform statistical tests. We can omit the `NA` from our dataset. It is always good practice when you clean a dataset, that you store it in a new dataset and leave the original.

```{r}
clean_penguins <- na.omit(penguins)
```

We can check the structure to make sure everything is ok.

```{r}
str(clean_penguins)
```

Now we can attach the cleaned penguins dataset. Attaching the dataset allows us to call variables directly. If we do not attach the dataset, we can still call variables, but we'll need to use the correct formatting, i.e. `cleaned_penguins$sex`.

```{r, message=F}
attach(clean_penguins)
```

```{r}
round(mean(body_mass_g),1)
```

The average body mass of penguins is 4207.1 g.

Let's look at graphing now.

If you have one numerical variable, whether discrete or continuous, you can use a histogram to visualise

We can use the ggplot2 package. If you have never used this package before, you will need to install package.

```{r, eval=FALSE}
# Install the package
install.packages(ggplot2)
```

Once installed, you can load the library and plot.

We will start with looking at the penguins package. Let's install `palmerpenguins`.

```{r}
# Load the libraries
library(ggplot2)
library(ggmosaic)
```

```{r}
# We can plot the histogram
ggplot(penguins, aes(x=bill_length_mm))+
  geom_histogram()
         
```

We

```{r}
# We can plot the histogram
ggplot(penguins, aes(x=bill_length_mm))+
  geom_histogram(fill="orangered", bins=30) +
  labs(x="Sepal Width (mm)")+
  theme_bw()
         

```

If you have a cateogrical variable and numerical variable, you can do boxplot

```{r}
ggplot(iris, aes(x=Species, y=Sepal.Width))+
  geom_boxplot()
```

```{r}
ggplot(iris, aes(x=Species, y=Sepal.Width))+
  geom_boxplot(fill="lightblue", col="darkblue")+
  labs(x="Species of Iris Varieties", y="Sepal Width (mm)")+
  theme_bw()
```

If you have two categorical variables, you can use a bar plot or mosaic plot.

```{r}
summary(penguins)
```

```{r}
ggplot(penguins, aes(x = species)) +
  geom_bar(fill = c("darkorchid", "deepskyblue3", "orange"), col = "purple4") +
  labs(x = "Penguin Species", y = "Count") +
  theme_bw()

ggplot(data=penguins, aes(x=species))+
  geom_bar(fill="darkorchid", col="purple4", aes(y=after_stat(prop), group=1))+
  labs(x="Penguin Species", y="Proportion")+
  theme_bw()

```

```{r}
ggplot(data=penguins, aes(col=species))+
  geom_mosaic(aes(x=product(species)), fill=c("darkgreen", "deepskyblue3","orangered"))+
  theme_bw()
```

```{r}
ggplot(data = penguins) +
  geom_mosaic(aes(x = product(island, species), fill = island)) +
  theme_bw()

```

# 

## Exercise Checkpoint 2 
